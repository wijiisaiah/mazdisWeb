webpackJsonp([0,4],{1039:function(t,e,n){t.exports=n(443)},121:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o,a){this.name=t,this.uid=e,this.email=n,this.address=r,this.phoneNumber=i,this.currentBooking=o,this.pastBookings=a}return t}()},122:function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(48),a=n(576),s=n(578),c=n(0),l=(n.n(c),n(173)),d=n(93),u=n(250);n.d(e,"a",function(){return g});var f=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n,r,i){this.fire=t,this.us=e,this.parkingService=n,this.emailService=r,this.paymentService=i,this.reservationTimeOut=18e5,this.databaseRef=this.fire.database;var o=this.fire.auth.currentUser;this.currentUserRef=this.databaseRef.ref("/users").child(o.uid)}return t.prototype.getAddedBookings=function(){var t=this.currentUserRef.child("bookings");return c.Observable.create(function(e){t.on("child_added",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getCurrentBooking=function(){var t=this.currentUserRef.child("reservation");return c.Observable.create(function(e){t.on("child_added",function(t){if("curBooking"===t.key){var n=t.child("parkingStation").val(),r=t.val();r.parkingStation=n,e.next(r)}},function(t){e.throw(t)}),t.on("child_changed",function(t){if("curBooking"===t.key){var n=t.child("parkingStation").val(),r=t.val();r.parkingStation=n,e.next(r)}},function(t){e.throw(t)}),t.on("child_removed",function(t){"curBooking"===t.key&&e.next(void 0)},function(t){e.throw(t)})})},t.prototype.getReservationTimer=function(){var t=this.currentUserRef.child("reservation");return c.Observable.create(function(e){t.on("child_added",function(t){"reserveEndTime"===t.key&&e.next(t.val())},function(t){e.throw(t)}),t.on("child_removed",function(t){"reserveEndTime"===t.key&&e.next(void 0)},function(t){e.throw(t)})})},t.prototype.getBookingCodes=function(){var t=this.databaseRef.ref("booking codes").child("codes");return new Promise(function(e){t.on("value",function(t){if(console.log(t),null!==t.val()){var n=t.val();console.log("codes",n),e(n)}else e([])})})},t.prototype.cancelBooking=function(t){this.removeBookingCode(t.code),this.removeCurrentBooking(t.parkingStation.id),this.emailService.createEmail(d.a.BOOKING_CANCELLATION)},t.prototype.completeBooking=function(t){this.endCurrentBooking(t),this.addToUserBookings(t),this.removeCurrentBooking(t.parkingStation.id),this.removeBookingCode(t.code),this.emailService.createEmail(d.a.BOOKING_COMPLETION),this.paymentService.chargeCustomer(t.cost)},t.prototype.createBooking=function(t){var e=this,n=s.a.getCurrentDate(),r=s.a.getCurrentTime(),i=(new Date).getTime(),o=this.currentUserRef.child("reservation"),c=this.currentUserRef.child("reservation").child("curBooking");this.parkingService.decrementAvailability(t.id),o.set({reserveStartTime:(new Date).getTime(),reserveEndTime:(new Date).getTime()+this.reservationTimeOut}).catch(function(t){return console.error("Unable to set reservation",t)}),this.generateCode().then(function(o){c.set({parkingStation:t,date:n,startTime:r,startTimeMs:i,code:o}).catch(function(t){return console.error("Unable to add Booking",t)});var s=new a.a(t,n,r,i,o);e.emailService.createEmail(d.a.BOOKING_CONFIRMATION,null,s)})},t.prototype.endCurrentBooking=function(t){var e=s.a.getCurrentTime(),n=this.calculateCost(t);t.endTime=e,t.cost=n},t.prototype.updateCurrentBooking=function(t){var e=s.a.getCurrentTime(),n=(new Date).getTime();t.startTime=e,t.startTimeMs=n;var r=this.currentUserRef.child("reservation").child("curBooking");r.update(t),this.currentUserRef.child("reservation").child("reserveStartTime").remove(),this.currentUserRef.child("reservation").child("reserveEndTime").remove()},t.prototype.addToUserBookings=function(t){var e=this.currentUserRef.child("bookings"),n=e.push();n.set({title:t.parkingStation.title,address:t.parkingStation.address,rate:t.parkingStation.rate,date:t.date,startTime:t.startTime,endTime:t.endTime,cost:t.cost}).catch(function(t){return console.error("Unable to add Booking",t)})},t.prototype.removeCurrentBooking=function(t){var e=this.currentUserRef.child("reservation");e.ref.remove(),this.parkingService.incrementAvailability(t)},t.prototype.removeBookingCode=function(t){var e=this.databaseRef.ref("booking codes").child("codes");e.orderByValue().equalTo(t).on("child_added",function(t){console.log(t.ref),t.ref.remove()})},t.prototype.calculateCost=function(t){var e=(new Date).getTime(),n=t.startTimeMs,r=e-n,i=r/36e5,o=(i*t.parkingStation.rate).toFixed(3);return console.log("Cost: "+o+" Rate: "+t.parkingStation.rate+" Duration: "+i),o},t.prototype.generateCode=function(){var t,e=this;return new Promise(function(n){e.getBookingCodes().then(function(r){console.log("codes",r);var i=function(){var t=Math.floor(9e5*Math.random())+1e5;console.log(r);for(var e in r)if(r[e]===t)return console.log("Found duplicate code"),t=Math.floor(9e5*Math.random())+1e5,i();return t};t=i();var o=e.databaseRef.ref("booking codes").child("codes");o.push(t),n(t)})})},t=f([n.i(r.c)(),p("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(g="undefined"!=typeof o.a&&o.a)&&g||Object,"function"==typeof(m="undefined"!=typeof l.a&&l.a)&&m||Object,"function"==typeof(h="undefined"!=typeof d.a&&d.a)&&h||Object,"function"==typeof(b="undefined"!=typeof u.a&&u.a)&&b||Object])],t);var e,g,m,h,b}()},173:function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(132);n.n(o);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.fire=t,this.databaseRef=this.fire.database,this.parkingStationsRef=this.databaseRef.ref("/parking stations"),this.getAddedParkingStations()}return t.prototype.getAddedParkingStations=function(){var t=this;return o.Observable.create(function(e){t.parkingStationsRef.on("child_added",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getUpdatedParkingStation=function(){var t=this;return o.Observable.create(function(e){t.parkingStationsRef.on("child_changed",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.incrementAvailability=function(t){var e,n=this.parkingStationsRef.child(t);n.once("value").then(function(t){e=t.val().availableSpots,e++,n.update({availableSpots:e}).catch(function(t){return console.error("Unable to increment",t)})})},t.prototype.decrementAvailability=function(t){var e,n=this.parkingStationsRef.child(t);n.once("value").then(function(t){e=t.val().availableSpots,e--,n.update({availableSpots:e}).catch(function(t){return console.error("Unable to decrement",t)})})},t=a([n.i(r.c)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},246:function(t,e,n){"use strict";var r=n(1),i=n(132),o=(n.n(i),n(52));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.fire=t,this.databaseRef=this.fire.database,this.emailRef=this.databaseRef.ref("/emails/email information/details")}return t.prototype.getAddedEmails=function(){var t=this;return i.Observable.create(function(e){t.emailRef.on("child_added",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getUpdatedEmails=function(){var t=this;return i.Observable.create(function(e){t.emailRef.on("child_changed",function(t){var n=t.val();n.type=t.key,e.next(n)},function(t){e.throw(t)})})},t.prototype.updateEmail=function(t){var e=this.emailRef.child(t.type);e.update({from:t.from,subject:t.subject,body:t.body,type:t.type})},t=a([n.i(r.c)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},247:function(t,e,n){"use strict";var r=n(1),i=n(132),o=(n.n(i),n(52));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.fire=t,this.databaseRef=this.fire.database,this.parkingStationsRef=this.databaseRef.ref("/parking stations")}return t.prototype.getAddedParkingStations=function(){var t=this;return i.Observable.create(function(e){t.parkingStationsRef.on("child_added",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getUpdatedParkingStations=function(){var t=this;return i.Observable.create(function(e){t.parkingStationsRef.on("child_changed",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getRemovedParkingStations=function(){var t=this;return i.Observable.create(function(e){t.parkingStationsRef.on("child_removed",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.updateParkingStation=function(t){var e=this.parkingStationsRef.child(t.id);e.update({title:t.title,address:t.address,type:t.type,lat:t.lat,lng:t.lng,size:t.size,availableSpots:t.availableSpots,availability:t.availability,rate:t.rate})},t.prototype.addParkingStation=function(t){var e=this.parkingStationsRef.push();e.set({title:t.title,address:t.address,type:t.type,lat:t.lat,lng:t.lng,size:t.size,availableSpots:t.availableSpots,availability:t.availability,rate:t.rate,id:e.key})},t.prototype.deleteParkingStation=function(t){var e=this.parkingStationsRef.child(t.id);e.remove()},t=a([n.i(r.c)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},248:function(t,e,n){"use strict";var r=n(1),i=n(132),o=(n.n(i),n(52)),a=n(48);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.fire=t,this.userService=e,this.databaseRef=this.fire.database,this.userRef=this.databaseRef.ref("/users")}return t.prototype.getAddedUsers=function(){var t=this;return i.Observable.create(function(e){t.userRef.on("child_added",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getUpdatedUsers=function(){var t=this;return i.Observable.create(function(e){t.userRef.on("child_changed",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.getRemovedUsers=function(){var t=this;return i.Observable.create(function(e){t.userRef.on("child_removed",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})})},t.prototype.updateUser=function(t){this.userService.updateUser(t)},t.prototype.addUser=function(t,e){this.userService.register(t.name,t.email,e),this.userService.addUser(t)},t.prototype.deleteUser=function(t){this.userRef.child(t.uid).remove(),this.fire.auth.currentUser.delete()},t=s([n.i(r.c)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],t);var e,l}()},249:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.isOpen=!1,this.detectScreenSizeChange()}return t.prototype.detectScreenSizeChange=function(){var t=this;window.addEventListener("resize",function(){console.log("resizing occuring"),console.log(window.innerWidth),console.log(window.outerWidth),window.innerWidth<=900&&window.innerWidth>=600?t.isOpen&&t.setMenuSize(45):window.innerWidth<600?(t.menuSize=100,t.isOpen&&t.setMenuSize(100)):(t.menuSize=35,t.isOpen&&t.setMenuSize(35))})},t.prototype.closeNav=function(){this.isOpen&&($("#overlay-content").fadeOut(100),$("#userName").fadeOut(100),$("#signOut").fadeOut(100),document.getElementById("my-menu-icon").classList.toggle("change"),document.getElementById("wrapper").style.width="100%",document.getElementById("myNav").style.width="0%",this.isOpen=!1)},t.prototype.openNav=function(){this.isOpen||($("#overlay-content").delay(150).fadeIn(600),$("#userName").delay(100).fadeIn(600),$("#signOut").delay(100).fadeIn(600),document.getElementById("my-menu-icon").classList.toggle("change"),document.getElementById("wrapper").style.width=this.formatSize(100-this.menuSize),document.getElementById("myNav").style.width=this.formatSize(this.menuSize),this.isOpen=!0)},t.prototype.changeMenu=function(){this.isOpen?this.closeNav():this.openNav()},t.prototype.formatSize=function(t){return t+"%"},t.prototype.setMenuSize=function(t){this.menuSize=t,window.innerWidth<600&&(this.menuSize=100),document.getElementById("wrapper").style.width=this.formatSize(100-this.menuSize),document.getElementById("myNav").style.width=this.formatSize(this.menuSize)},t.bookingPageSize=60,t.accountPageSize=45,t.defaultMenuSize=35,t=i([n.i(r.c)(),o("design:paramtypes",[])],t)}()},250:function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(48),a=n(173),s=n(93);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,r){this.fire=t,this.us=e,this.parkingService=n,this.emailService=r,this.databaseRef=this.fire.database,this.getCurrentUser()}return t.prototype.getCurrentUser=function(){var t=this;this.us.getCurrentUser().subscribe(function(e){t.curUser=e})},t.prototype.createCustomer=function(t){var e=this.databaseRef.ref("billing").child("new customer");e.push({uid:this.curUser.uid,email:this.curUser.email,tokenId:t.id})},t.prototype.chargeCustomer=function(t){var e=this.databaseRef.ref("billing").child("charge customer");e.push({customerId:this.curUser.customerId,amount:t})},t=c([n.i(r.c)(),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],t);var e,d,u,f}()},362:function(t,e,n){"use strict";var r=n(1),i=n(246);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.aes=t,this.emails=[]}return t.prototype.ngOnInit=function(){this.getAddedEmails(),this.getUpdatedEmails()},t.prototype.getAddedEmails=function(){var t=this;this.aes.getAddedEmails().subscribe(function(e){t.emails.push(e)},function(t){console.error("Unable to get added email - ",t)})},t.prototype.getUpdatedEmails=function(){var t=this;this.aes.getUpdatedEmails().subscribe(function(e){var n=e,r=t.emails.map(function(t){return t.type}).indexOf(e.type);t.emails[r]=n},function(t){console.log("Unable to get updated email - ",t)})},t=o([n.i(r._3)({selector:"email-list",template:n(759),styles:[n(743)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},363:function(t,e,n){"use strict";var r=n(1),i=n(247);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.aps=t,this.parkingStations=[]}return t.prototype.ngOnInit=function(){this.getAddedParkingStations(),this.getUpdatedParkingStations()},t.prototype.getAddedParkingStations=function(){var t=this;this.aps.getAddedParkingStations().subscribe(function(e){t.parkingStations.push(e),console.log(t.parkingStations)},function(t){console.error("Unable to get added parking station - ",t)})},t.prototype.getUpdatedParkingStations=function(){var t=this;this.aps.getUpdatedParkingStations().subscribe(function(e){var n=t.parkingStations.map(function(t){return t.id}).indexOf(e.id);t.parkingStations[n]=e},function(t){console.log("Unable to get updated parking station - ",t)})},t=o([n.i(r._3)({selector:"parking-list",template:n(761),styles:[n(745)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},364:function(t,e,n){"use strict";var r=n(1),i=n(248);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.aus=t,this.users=[]}return t.prototype.ngOnInit=function(){this.getAddedUsers(),this.getUpdatedUsers()},t.prototype.getAddedUsers=function(){var t=this;this.aus.getAddedUsers().subscribe(function(e){t.users.push(e)},function(t){console.error("Unable to get added user - ",t)})},t.prototype.getUpdatedUsers=function(){var t=this;this.aus.getUpdatedUsers().subscribe(function(e){var n=t.users.map(function(t){return t.uid}).indexOf(e.uid);t.users[n]=e},function(t){console.log("Unable to get updated user - ",t)})},t=o([n.i(r._3)({selector:"user-list",template:n(763),styles:[n(747)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},365:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=i([n.i(r._3)({selector:"my-app",template:'\n    <navbar></navbar>\n    <div class="container">\n        <router-outlet></router-outlet>\n    </div>\n    ',styles:["\n        .container {\n            margin-top: 5rem;\n        }\n    "]}),o("design:paramtypes",[])],t)}()},366:function(t,e,n){"use strict";var r=n(1),i=n(122);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.bookingService=t,this.bookings=[],this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){var n=e[t];n.unsubscribe()}},t.prototype.ngOnInit=function(){this.getAddedBookings()},t.prototype.open=function(t){for(var e in document.getElementsByClassName("accordion-toggle"))$(e).toggleClass("active").removeClass("active");console.log(t);var n=document.getElementsByClassName("accordion-toggle").item(t);$(n).next().slideToggle("600"),$(".accordion-content").not($(n).next()).slideUp("600")},t.prototype.getAddedBookings=function(){var t=this,e=this.bookingService.getAddedBookings().subscribe(function(e){t.bookings.unshift(e)},function(t){console.error("Unable to get added booking - ",t)});this.subscriptions.push(e)},t=o([n.i(r._3)({selector:"my-bookings",template:n(766),styles:[n(749)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},367:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={apiKey:"AIzaSyDI5gkDdas1zz45zhbP34xJ8_V8ZbawGag",authDomain:"mazdis-sabps.firebaseapp.com",databaseURL:"https://mazdis-sabps.firebaseio.com",storageBucket:"mazdis-sabps.appspot.com",messagingSenderId:"1068216834283"},i="pk_test_rkbHNq1c430fnUTDRegoZhCM"},368:function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(113),a=n(235);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=this&&this.__param||function(t,e){return function(n,r){e(n,r,t)}},d=function(){function t(t){if(t)throw new Error("CoreModule exists already. Only import in the root/app module")}return t.forRoot=function(){return{ngModule:t,providers:[i.a]}},t=s([n.i(r.b)({imports:[],declarations:[],exports:[a.b,o.a]}),l(0,n.i(r.j)()),l(0,n.i(r.m)()),c("design:paramtypes",[t])],t)}()},369:function(t,e,n){"use strict";var r=n(173),i=n(1),o=n(48),a=n(93),s=n(122),c=n(78),l=n(249);n.d(e,"a",function(){return f});var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,r,i,o){this.bookingService=t,this.userService=e,this.parkingService=n,this.emailService=r,this.router=i,this.menuService=o,this.reserveEndTime=null,this.parkingStations=[],this.markers=[],this.subscriptions=[]}return t.prototype.parkBikeListener=function(t){this.reserveEndTime=null,this.bookingService.updateCurrentBooking(this.currentBooking),this.closeInfoWindows(),clearInterval(this.timeOut),document.getElementById("timer").innerText=""},t.prototype.reserveEventListener=function(t){this.currentBooking?alert("Cannot have more than 1 reservation at a time"):(this.closeInfoWindows(),this.bookingService.createBooking(this.selectedParkingStation))},t.prototype.cancelEventListener=function(t){this.bookingService.cancelBooking(this.currentBooking),this.currentBooking=void 0,this.closeInfoWindows(),clearInterval(this.timeOut),document.getElementById("timer").innerText=""},t.prototype.completeEventListener=function(t){this.closeInfoWindows(),this.bookingService.completeBooking(this.currentBooking)},t.prototype.ngOnDestroy=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){var n=e[t];n.unsubscribe()}clearInterval(this.timeOut)},t.prototype.ngOnInit=function(){this.markers=[],this.infowindows=[],this.createMap(),this.markerCluster=new MarkerClusterer(this.map,this.markers,{imagePath:t.markerClusterImages}),this.getCurrentLocation(),this.getCurrentBooking(),this.getAddedParkingStations(),this.getUpdatedParkingStations(),this.setUserLocation(),this.getReservationTimer();var e=this;document.getElementById("googleMap");this.map.addListener("click",function(){e.menuService.closeNav()})},t.prototype.getCurrentLocation=function(){var t=this,e=this.userService.getCurrentLocation().subscribe(function(e){t.userLocation=e});this.subscriptions.push(e)},t.prototype.getReservationTimer=function(){var t=this,e=this,n=this.bookingService.getReservationTimer().subscribe(function(n){void 0!==n?(e.reserveEndTime=n,e.timeOut=setInterval(function(){var e=t,n=Math.max(0,e.reserveEndTime-(new Date).getTime()),r=Math.floor(n/1e3/60),i=(Math.round(n/1e3)%60).toString();i.length<2&&(i="0"+i),document.getElementById("timer").innerText=r+":"+i,e.reserveEndTime<=(new Date).getTime()&&null!==e.reserveEndTime&&(t.reserveEndTime=null,t.bookingService.cancelBooking(t.currentBooking),t.currentBooking=void 0,t.closeInfoWindows())},1e3)):(e.reserveEndTime=null,document.getElementById("timer").innerText="")});this.subscriptions.push(n)},t.prototype.getCurrentBooking=function(){var t=this,e=this.bookingService.getCurrentBooking().subscribe(function(e){if(t.currentBooking=e,e){for(var n=0,r=t.parkingStations;n<r.length;n++){var i=r[n];i.id===e.parkingStation.id&&(e.parkingStation=i)}t.updateMarker(e.parkingStation)}},function(t){console.error("Unable to get current booking -",t)});this.subscriptions.push(e)},t.prototype.getAddedParkingStations=function(){var t=this,e=this.parkingService.getAddedParkingStations().subscribe(function(e){t.parkingStations.push(e);var n=t.createMarker(e);t.markers.push(n),t.markerCluster.addMarker(t.markers[t.markers.length-1])},function(t){console.error("Unable to get added parking station - ",t)});this.subscriptions.push(e)},t.prototype.getUpdatedParkingStations=function(){var t=this,e=this.parkingService.getUpdatedParkingStation().subscribe(function(e){var n=t.parkingStations.map(function(t){return t.id}).indexOf(e.id);t.parkingStations[n]=e,t.updateMarker(e)},function(t){console.error("Unable to get updated parking station - ",t)});this.subscriptions.push(e)},t.prototype.createMap=function(){var t={center:new google.maps.LatLng(49.2827,-123.1207),zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,clickableIcons:!1};this.map=new google.maps.Map(document.getElementById("googleMap"),t)},t.prototype.updateMarker=function(t){var e=this,n=t.availableSpots>0,r=this.getHTMLcontent(t,n);this.closeInfoWindows();for(var i=this.getProperIcon(t,n),o=0,a=this.markers;o<a.length;o++){var s=a[o];if(s.id===t.id){for(var c=0,l=this.infowindows;c<l.length;c++){var d=l[c];d.id===s.id&&d.setContent(r)}s.setMap(null),s.icon=i,s.setMap(e.map)}}console.log("number of markers: ",this.markers)},t.prototype.createMarker=function(t){var e=this,n=t.availableSpots>0,r=this.getProperIcon(t,n),i=new google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:this.map,id:t.id,icon:r}),o=(this.getHTMLcontent(t,n),new InfoBubble({map:this.map,maxWidth:500,minWidth:300,maxHeight:276,minHeight:275,content:this.getHTMLcontent(t,n),borderColor:"rgba(31, 138, 220, 0.8)",backgroundColor:"rgba(31, 138, 220, 0.8)",borderRadius:0,hideCloseButton:!0,id:t.id}));return this.infowindows.push(o),i.addListener("click",function(){e.menuService.closeNav(),e.closeInfoWindows(),o.open(this.map,i),e.selectedParkingStation=t}),this.map.addListener("click",function(){o.close(this.map,i)}),i},t.prototype.closeInfoWindows=function(){for(var t=0;t<this.infowindows.length;t++)this.infowindows[t].close()},t.prototype.setUserLocation=function(){var t=this,e=document.createElement("div"),n=document.createElement("button");n.style.backgroundColor="#fff",n.style.border="none",n.style.outline="none",n.style.width="28px",n.style.height="28px",n.style.borderRadius="2px",n.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",n.style.cursor="pointer",n.style.marginRight="10px",n.style.padding="0px",n.title="Your Location",e.appendChild(n);var r=document.createElement("div");r.style.margin="5px",r.style.width="18px",r.style.height="18px",r.style.backgroundImage="url(https://maps.gstatic.com/tactile/mylocation/mylocation-sprite-1x.png)",r.style.backgroundSize="180px 18px",r.style.backgroundPosition="0px 0px",r.style.backgroundRepeat="no-repeat",r.id="you_location_img",n.appendChild(r),google.maps.event.addListener(t.map,"dragend",function(){$("#you_location_img").css("background-position","0px 0px")}),n.addEventListener("click",function(){t.userLocationMarker&&t.userLocationMarker.setMap(null);var e="0",n=setInterval(function(){e="-18"==e?"0":"-18",$("#you_location_img").css("background-position",e+"px 0px")},500);if(t.userLocation){var r={lat:t.userLocation.coords.latitude,lng:t.userLocation.coords.longitude};t.userLocationMarker=new google.maps.Marker({position:r,icon:"http://www.robotwoods.com/dev/misc/bluecircle.png"}),t.userLocationMarker.setMap(t.map),t.map.setCenter(r),t.map.setZoom(14),clearInterval(n),$("#you_location_img").css("background-position","-144px 0px")}else clearInterval(n),$("#you_location_img").css("background-position","0px 0px")}),e.tabIndex=1,t.map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(e)},t.prototype.getProperIcon=function(e,n){var r;return r=n?t.availableParkingIcon:t.unavailableParkingIcon,void 0!==this.currentBooking&&this.currentBooking.parkingStation.id===e.id&&(r=t.bookedParkingIcon,null!==this.reserveEndTime&&(r=t.reservedParkingIcon)),r},t.prototype.updateClusters=function(){new MarkerClusterer(this.map,this.markers,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"
})},t.prototype.handleLocationError=function(){console.log("no access to geolocation")},t.prototype.getHTMLcontent=function(t,e){var n;return n=e?'<button class="btn btn-success" onclick=\'window.dispatchEvent(new CustomEvent("reserve", {detail: "Reservation Started"}));\'>Reserve</button>':"<p>Module is Full</p>",void 0!==this.currentBooking&&this.currentBooking.parkingStation.id===t.id&&(n='<button class="btn btn-success" onclick=\'window.dispatchEvent(new CustomEvent("complete", {detail: "End Booking"}));\'>Retrieve Bike</button>',null!==this.reserveEndTime&&(n='<button class="btn btn-warning" onclick=\'window.dispatchEvent(new CustomEvent("parkBike", {detail: "Park Bike"}));\'>Park Bike</button>\n                        <button class="btn btn-danger" onclick=\'window.dispatchEvent(new CustomEvent("cancel", {detail: "Cancel Booking"}));\'>Cancel</button>')),"    <head>\n            <style>\n                h4 {\n                    color: white;\n                }\n                p {\n                    color: white;\n                    font-size: 15px;\n                }\n                .btn {\n                    align-content: right;\n                    border-radius: 0;\n                }                \n            </style>\n        </head>\n                    <body>\n                     <div >\n                     <h4>"+t.title+"</h4><br>\n                     <p> \n                         Address: "+t.address+"<br>\n                         Type: "+t.type+" <br>\n                         Size: "+t.size+"<br>\n                         Availability: "+t.availableSpots+"/"+t.size+"<br>\n                         Rate: "+t.rate+" \n                     </p>\n                     <br>\n                     "+n+"\n                     </div>\n                     </body>\n                  "},t.availableParkingIcon="http://maps.google.com/mapfiles/ms/icons/blue-dot.png",t.unavailableParkingIcon="http://maps.google.com/mapfiles/ms/icons/red-dot.png",t.bookedParkingIcon="http://maps.google.com/mapfiles/ms/icons/green-dot.png",t.reservedParkingIcon="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",t.markerClusterImages="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",d([n.i(i._0)("window:parkBike",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"parkBikeListener",null),d([n.i(i._0)("window:reserve",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"reserveEventListener",null),d([n.i(i._0)("window:cancel",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"cancelEventListener",null),d([n.i(i._0)("window:complete",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"completeEventListener",null),t=d([n.i(i._3)({selector:"map-map",template:'\n    <div id="timer"></div>\n    <user-menu></user-menu> \n    <div id="googleMap"></div>\n    ',styles:["\n    #googleMap {\n        width: 100%;\n        height:100%;\n        padding: 0;\n         }\n    #timer {\n        position: absolute;\n        right: 10px;\n        top: 10px;\n        z-index: 1;\n    }\n"]}),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object,"function"==typeof(f="undefined"!=typeof o.a&&o.a)&&f||Object,"function"==typeof(p="undefined"!=typeof r.a&&r.a)&&p||Object,"function"==typeof(g="undefined"!=typeof a.a&&a.a)&&g||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object,"function"==typeof(h="undefined"!=typeof l.a&&l.a)&&h||Object])],t);var e,f,p,g,m,h}()},370:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i){this.from=t,this.subject=e,this.to=n,this.body=r,this.type=i}return t}()},371:function(t,e,n){"use strict";var r=n(1),i=n(78),o=n(48);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.userService=t,this.router=e}return t.prototype.canActivate=function(t,e){return console.log(this.userService.isAuthenticated()),!!this.userService.isAuthenticated()||(this.router.navigate(["/login"]),!1)},t=a([n.i(r.c)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},372:function(t,e,n){"use strict";var r=n(1),i=n(48),o=n(121);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.uas=t,this.currentUser=new o.a(null,null,null,null,null),this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){var n=e[t];n.unsubscribe()}},t.prototype.ngOnInit=function(){this.getCurrentUser(),$("#account-link").click(function(t){$("#account-form").delay(100).fadeIn(100),$("#security-form").fadeOut(100),$("#security-link").removeClass("active"),$(this).addClass("active"),t.preventDefault()}),$("#security-link").click(function(t){$("#security-form").delay(100).fadeIn(100),$("#account-form").fadeOut(100),$("#account-link").removeClass("active"),$(this).addClass("active"),t.preventDefault()})},t.prototype.getCurrentUser=function(){var t=this,e=this.uas.getCurrentUser().subscribe(function(e){t.currentUser=e},function(t){console.error("Unable to get current user -",t)});this.subscriptions.push(e)},t.prototype.editInfo=function(){console.log("Editediteditediteditediteditediteditediteditedit"),document.getElementById("argName").readOnly=!1,document.getElementById("argEmail").readOnly=!1,document.getElementById("argAddress").readOnly=!1,document.getElementById("updateButton").hidden=!1,document.getElementById("editButton").hidden=!0},t.prototype.updateUser=function(){this.currentUser.name=document.getElementById("argName").value,this.currentUser.email=document.getElementById("argEmail").value,this.currentUser.address=document.getElementById("argAddress").value,this.uas.updateUser(this.currentUser),document.getElementById("argName").readOnly=!0,document.getElementById("argEmail").readOnly=!0,document.getElementById("argAddress").readOnly=!0,document.getElementById("updateButton").hidden=!0,document.getElementById("editButton").hidden=!1},t=a([n.i(r._3)({selector:"user-account",template:n(768),styles:[n(751)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},373:function(t,e,n){"use strict";var r=n(1),i=n(48),o=n(93),a=n(121),s=n(78);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n){this.userService=t,this.emailService=e,this.router=n,this.user=new a.a(null,null,null,null,null)}return t.prototype.ngOnInit=function(){$("#login-form-link").click(function(t){$("#login-form").delay(100).fadeIn(100),$("#register-form").fadeOut(100),$("#forgotPassword-form").fadeOut(100),$("#register-form-link").removeClass("active"),$("#login-help").delay(100).fadeIn(100),$(this).addClass("active"),t.preventDefault()}),$("#register-form-link").click(function(t){$("#register-form").delay(100).fadeIn(100),$("#forgotPassword-form").fadeOut(100),$("#login-form").fadeOut(100),$("#login-form-link").removeClass("active"),$("#login-help").fadeOut(100),$(this).addClass("active"),t.preventDefault()}),$("#forgotPassword-form-link").click(function(t){$("#forgotPassword-form").delay(100).fadeIn(100),$("#login-form").fadeOut(100),$("#login-form-link").removeClass("active"),$(this).addClass("active"),t.preventDefault()})},t.prototype.register=function(){var t=this,e=this;document.getElementById("loader").style.display="block",this.user.name=document.getElementById("RegisterName").value,this.user.email=document.getElementById("RegisterEmail").value;var n=document.getElementById("RegisterPass").value,r=document.getElementById("ConfirmPass").value;this.isMatchingPassword(n,r)?(this.userService.register(this.user.name,this.user.email,n).then(function(){$("#login-modal").modal("toggle"),e.router.navigate(["/map"]),t.emailService.createEmail(o.a.REGISTRATION_CONFIRMATION,t.user.email)}).catch(function(t){document.getElementById("loader").style.display="none",document.getElementById("form-wrapper").style.display="block",document.getElementById("login-modal").setAttribute("aria-hidden","false"),document.getElementById("login-modal").setAttribute("display","block"),alert(t)}),console.log("User Registered")):alert("Passwords Must Match")},t.prototype.login=function(){document.getElementById("loader").style.display="block",document.getElementById("form-wrapper").style.display="none";var t=this,e=document.getElementById("LoginEmail").value,n=document.getElementById("LoginPass").value;this.userService.login(e,n).then(function(){$("#login-modal").modal("toggle"),t.router.navigate(["/map"])}).catch(function(t){document.getElementById("loader").style.display="none",$("#login-modal").modal("toggle"),alert(t)}),console.log("User Authenticated")},t.prototype.forgotPassword=function(){var t=document.getElementById("forgotPasswordEmail").value;$("#login-modal").modal("toggle"),this.userService.forgotPassword(t)},t.prototype.reRoute=function(){document.getElementById("login-modal").setAttribute("aria-hidden","true"),this.router.navigate(["/map"])},t.prototype.isMatchingPassword=function(t,e){return t===e},t=c([n.i(r._3)({selector:"user-authentication",template:n(769),styles:[n(752)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object,"function"==typeof(u="undefined"!=typeof s.a&&s.a)&&u||Object])],t);var e,d,u}()},374:function(t,e,n){"use strict";var r=n(1),i=n(250),o=n(367);n.d(e,"a",function(){return d});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=Stripe(o.b),l=c.elements(),d=function(){function t(t){this.paymentService=t}return t.prototype.ngOnInit=function(){this.billing()},t.prototype.billing=function(){var t=this,e={base:{fontSize:"16px",lineHeight:"24px"}},n=l.create("card",{style:e});n.mount("#card-element"),n.addEventListener("change",function(t){var e=document.getElementById("card-errors");t.error?e.textContent=t.error.message:e.textContent=""});var r=document.getElementById("payment-form");r.addEventListener("submit",function(e){e.preventDefault(),c.createToken(n).then(function(e){if(e.error){var n=document.getElementById("card-errors");n.textContent=e.error.message}else t.stripeTokenHandler(e.token)})})},t.prototype.stripeTokenHandler=function(t){var e=document.getElementById("payment-form");this.paymentService.createCustomer(t),e.submit()},t=a([n.i(r._3)({selector:"user-billing",template:n(770),styles:[n(753)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},442:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=442},443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(581),n(535)),i=n(1),o=n(580),a=n(573);o.a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(a.a)},48:function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(121),a=n(132),s=(n.n(a),n(78));n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.fire=t,this.router=e,this.authRef=this.fire.auth,this.databaseRef=this.fire.database.ref("/users"),this.currentUser=this.fire.auth.currentUser,this.currentUser=this.fire.auth.currentUser}return t.prototype.register=function(t,e,n){var r=this,i=new o.a(t,null,e,null,null);return this.authRef.createUserWithEmailAndPassword(e,n).then(function(t){i.uid=t.uid,r.addUser(i),r.currentUser=t,console.log(t)}).catch(function(t){throw new Error(t.message)})},t.prototype.login=function(t,e){var n=this;return this.authRef.signInWithEmailAndPassword(t,e).then(function(t){n.currentUser=t}).catch(function(t){throw new Error(t.message)})},t.prototype.signOut=function(){this.authRef.signOut(),this.currentUser=null,this.router.navigate(["/login"])},t.prototype.addUser=function(t){var e=this.databaseRef.child(t.uid);e.set({name:t.name,uid:t.uid,email:t.email,address:t.address,phoneNumber:t.phoneNumber}).catch(function(t){console.error("Unable to add new user to Db -",t)})},t.prototype.updateUser=function(t){var e=this.databaseRef.child(t.uid);t.email!=this.currentUser.email?this.currentUser.updateEmail(t.email).then(function(){e.update(t).catch(function(t){console.log("Unable to update user (database)",t)})}).catch(function(t){console.log("Unable to update user email (auth) -",t)}):e.update(t)},t.prototype.findUserRef=function(t){return this.databaseRef.child(t)},t.prototype.forgotPassword=function(t){this.authRef.sendPasswordResetEmail(t).then(function(){},function(t){alert(t.message)})},t.prototype.getCurrentUser=function(){var t=this;return this.currentUser=this.fire.auth.currentUser,a.Observable.create(function(e){if(t.currentUser){var n=t.currentUser.uid,r=t.databaseRef.child(n);r.on("value",function(t){var n=t.val();e.next(n)},function(t){e.throw(t)})}else e.next(void 0)})},t.prototype.isAuthenticated=function(){var t=this.authRef.currentUser;return!!t},t.prototype.getCurrentLocation=function(){return navigator.geolocation?a.Observable.create(function(t){navigator.geolocation.getCurrentPosition(function(e){t.next(e)}),function(t){return a.Observable.throw(t)}}):a.Observable.throw("Geolocation not available")},t=c([n.i(r.c)(),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(d="undefined"!=typeof s.a&&s.a)&&d||Object])],t);var e,d}()},52:function(t,e,n){"use strict";var r=n(1),i=n(735),o=(n.n(i),n(367));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};n(413),n(412);var c=function(){function t(){this.configureApp(),this.configureDatabase(),this.configureAuth()}return Object.defineProperty(t.prototype,"database",{get:function(){return this._database},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"auth",{get:function(){return this._auth},enumerable:!0,configurable:!0}),t.prototype.configureApp=function(){i.initializeApp(o.a)},t.prototype.configureDatabase=function(){this._database=i.database()},t.prototype.configureAuth=function(){this._auth=i.auth()},t=a([n.i(r.c)(),s("design:paramtypes",[])],t)}()},565:function(t,e,n){"use strict";var r=n(1),i=n(113),o=n(246),a=n(370),s=n(93);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.formB=t,this.aes=e,this.modalId="emailModal",this.currentEmail=new a.a(null,null,null,null,null),this.typeArr=[s.a.BOOKING_CANCELLATION,s.a.BOOKING_COMPLETION,s.a.BOOKING_CONFIRMATION,s.a.REGISTRATION_CONFIRMATION]}return t.prototype.ngOnInit=function(){this.configureForm()},t.prototype.configureForm=function(t){t&&(this.currentEmail=new a.a(t.from,t.subject,null,t.body,t.type)),console.log(this.currentEmail),console.log(this.typeArr),this.emailForm=this.formB.group({type:[this.currentEmail.type],from:[this.currentEmail.from],subject:[this.currentEmail.subject],body:[this.currentEmail.body]})},t.prototype.submitForm=function(){this.currentEmail.type=this.emailForm.value.type,this.currentEmail.from=this.emailForm.value.from,this.currentEmail.subject=this.emailForm.value.subject,this.currentEmail.body=this.emailForm.value.body,this.updateEmail()},t.prototype.updateEmail=function(){this.aes.updateEmail(this.currentEmail)},t.prototype.freshForm=function(){this.emailForm.reset({}),this.cleanBug()},t.prototype.cleanBug=function(){this.currentEmail=new a.a(null,null,null,null)},t=c([n.i(r._3)({selector:"email-detail",template:n(758),styles:[n(742)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.d&&i.d)&&e||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object])],t);var e,d}()},566:function(t,e,n){"use strict";var r=n(1),i=n(113),o=n(247),a=n(577);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.formB=t,this.aps=e,this.modalId="parkingModal",this.currentParkingStation=new a.a(null,null,null,null,null,null,null,null,null,null)}return t.prototype.ngOnInit=function(){this.configureForm()},t.prototype.configureForm=function(t){t&&(this.currentParkingStation=new a.a(t.title,t.address,t.type,t.lat,t.lng,t.size,t.availableSpots,t.availability,t.rate,t.id)),this.parkingForm=this.formB.group({title:[this.currentParkingStation.title,[i.c.required]],address:[this.currentParkingStation.address,i.c.required],type:[this.currentParkingStation.type,i.c.required],lat:[this.currentParkingStation.lat,i.c.required],lng:[this.currentParkingStation.lng,i.c.required],size:[this.currentParkingStation.size,i.c.required],availableSpots:[this.currentParkingStation.availableSpots,i.c.required],availability:[this.currentParkingStation.availability,i.c.required],rate:[this.currentParkingStation.rate,i.c.required],id:[this.currentParkingStation.id]})},t.prototype.submitForm=function(){this.currentParkingStation.title=this.parkingForm.value.title,this.currentParkingStation.address=this.parkingForm.value.address,this.currentParkingStation.type=this.parkingForm.value.type,this.currentParkingStation.lat=this.parkingForm.value.lat,this.currentParkingStation.lng=this.parkingForm.value.lng,this.currentParkingStation.size=this.parkingForm.value.size,this.currentParkingStation.availableSpots=this.parkingForm.value.availableSpots,this.currentParkingStation.availability=this.parkingForm.value.availability,this.currentParkingStation.rate=this.parkingForm.value.rate,this.currentParkingStation.id?this.updateParkingStation():this.addParkingStation()},t.prototype.deleteParkingStation=function(){this.currentParkingStation.title=this.parkingForm.value.title,this.currentParkingStation.address=this.parkingForm.value.address,this.currentParkingStation.type=this.parkingForm.value.type,this.currentParkingStation.lat=this.parkingForm.value.lat,this.currentParkingStation.lng=this.parkingForm.value.lng,this.currentParkingStation.size=this.parkingForm.value.size,this.currentParkingStation.availableSpots=this.parkingForm.value.availableSpots,this.currentParkingStation.availability=this.parkingForm.value.availability,this.currentParkingStation.rate=this.parkingForm.value.rate,this.currentParkingStation.id=this.parkingForm.value.id,this.aps.deleteParkingStation(this.currentParkingStation)},t.prototype.addParkingStation=function(){this.aps.addParkingStation(this.currentParkingStation)},t.prototype.updateParkingStation=function(){this.aps.updateParkingStation(this.currentParkingStation)},t.prototype.freshForm=function(){this.parkingForm.reset({}),this.cleanBug()},t.prototype.cleanBug=function(){this.currentParkingStation=new a.a(null,null,null,null,null,null,null,null,null,null)},t=s([n.i(r._3)({selector:"parking-detail",template:n(760),styles:[n(744)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.d&&i.d)&&e||Object,"function"==typeof(l="undefined"!=typeof o.a&&o.a)&&l||Object])],t);var e,l}()},567:function(t,e,n){"use strict";var r=n(1),i=n(78);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t=o([n.i(r.b)({imports:[i.b.forChild([])],exports:[i.b]}),a("design:paramtypes",[])],t)}()},568:function(t,e,n){"use strict";var r=n(1),i=n(113),o=n(248),a=n(579),s=n(121);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.formB=t,this.aus=e,this.modalId="bugModal",this.currentUser=new s.a(null,null,null,null,null,null,null)}return t.prototype.ngOnInit=function(){this.configureForm()},t.prototype.configureForm=function(t){t&&(this.currentUser=new s.a(t.name,t.uid,t.email,t.address,t.phoneNumber,t.currentBooking,t.pastBookings)),this.userForm=this.formB.group({name:[this.currentUser.name,[i.c.required,n.i(a.a)(/puppy/i)]],uid:[this.currentUser.uid,i.c.required],email:[this.currentUser.email,i.c.required],address:[this.currentUser.address,i.c.required],phoneNumber:[this.currentUser.phoneNumber,i.c.required],currentBooking:[this.currentUser.currentBooking,i.c.required],pastBookings:[this.currentUser.pastBookings,i.c.required]})},t=c([n.i(r._3)({selector:"user-detail",template:n(762),styles:[n(746)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.d&&i.d)&&e||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object])],t);var e,d}()},569:function(t,e,n){"use strict";var r=n(1),i=n(567),o=n(113),a=n(364),s=n(568),c=n(362),l=n(565),d=n(363),u=n(566),f=n(248),p=n(247),g=n(246),m=n(365),h=n(570),b=n(368);n.d(e,"a",function(){return k});var v=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=function(){function t(){}return t=v([n.i(r.b)({imports:[i.a,o.b,b.a.forRoot()],declarations:[u.a,d.a,l.a,c.a,s.a,a.a,m.a,h.a],exports:[i.a,m.a],providers:[p.a,f.a,g.a]}),y("design:paramtypes",[])],t)}()},570:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=i([n.i(r._3)({selector:"navbar",template:n(764),styles:[n(748)]}),o("design:paramtypes",[])],t)}()},571:function(t,e,n){"use strict";var r=n(374),i=n(1),o=n(78),a=n(369),s=n(372),c=n(373),l=n(366),d=n(371),u=n(365),f=n(363),p=n(364),g=n(362);n.d(e,"a",function(){return b});var m=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(){}return t=m([n.i(i.b)({imports:[o.b.forRoot([{path:"",redirectTo:"login",pathMatch:"prefix"},{path:"login",component:c.a},{path:"account",component:s.a},{path:"map",component:a.a,canActivate:[d.a]},{path:"my-bookings",component:l.a,canActivate:[d.a]},{path:"billing",component:r.a,canActivate:[d.a]},{path:"admin",component:u.a,children:[{path:"",redirectTo:"parking",pathMatch:"prefix"},{path:"parking",component:f.a},{path:"user",component:p.a},{path:"email",component:g.a},{path:"**",redirectTo:""}]},{path:"**",redirectTo:"login"}])],exports:[o.b]}),h("design:paramtypes",[])],t)}()},572:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=i([n.i(r._3)({selector:"my-app",template:' \n    <div class="col-sm-12">\n        <router-outlet></router-outlet>\n    </div>\n    ',styles:["\n        .col-sm-12 {\n            padding: 0;\n        }\n    "]}),o("design:paramtypes",[])],t)}()},573:function(t,e,n){"use strict";var r=n(1),i=n(571),o=n(368),a=n(572),s=n(575),c=n(372),l=n(369),d=n(373),u=n(366),f=n(374),p=n(574),g=n(48),m=n(122),h=n(173),b=n(371),v=n(249),y=n(93),k=n(250),x=n(569);n.d(e,"a",function(){return O});var w=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},R=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(){function t(){}return t=w([n.i(r.b)({imports:[i.a,x.a,o.a.forRoot()],declarations:[a.a,l.a,s.a,d.a,c.a,u.a,p.a,f.a],providers:[g.a,m.a,h.a,b.a,v.a,y.a,k.a],bootstrap:[a.a]}),R("design:paramtypes",[])],t)}()},574:function(t,e,n){"use strict";var r=n(1),i=n(122);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.bookingService=t,this.currentBooking=void 0,this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){var n=e[t];n.unsubscribe()}},t.prototype.ngOnInit=function(){this.getCurrentBooking()},t.prototype.getCurrentBooking=function(){var t=this,e=this.bookingService.getCurrentBooking().subscribe(function(e){t.currentBooking=e},function(t){console.error("Unable to get current booking -",t)});this.subscriptions.push(e)},t=o([n.i(r._3)({selector:"current-booking",template:n(765)}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},575:function(t,e,n){"use strict";var r=n(1),i=n(48),o=n(121),a=n(122),s=n(78),c=n(249);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,r){this.uas=t,this.BookingService=e,this.router=n,this.menuService=r,this.currentUser=new o.a(null,null,null,null,null),this.currentBooking=null,this.userAccountHidden=!0,this.userBookingsHidden=!0,this.userCurrentBookingHidden=!0,this.userMenuHidden=!1,this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){var n=e[t];n.unsubscribe()}console.log("Menu Destroyed")},t.prototype.ngOnInit=function(){this.getCurrentUser(),this.getCurrentBooking(),
this.menuService.isOpen=!1,window.innerWidth<=900&&window.innerWidth>=600?this.menuService.menuSize=45:window.innerWidth<600?this.menuService.menuSize=100:this.menuService.menuSize=c.a.defaultMenuSize},t.prototype.signOut=function(){this.uas.signOut()},t.prototype.getCurrentBooking=function(){var t=this,e=this.BookingService.getCurrentBooking().subscribe(function(e){t.currentBooking=e},function(t){console.error("Unable to get current user -",t)});this.subscriptions.push(e)},t.prototype.getCurrentUser=function(){var t=this,e=this.uas.getCurrentUser().subscribe(function(e){t.currentUser=e},function(t){console.error("Unable to get current user -",t)});this.subscriptions.push(e)},t.prototype.replaceMenuContent=function(t,e){switch(t){case"menu":switch(this.userMenuHidden=!0,e){case"account":return this.userAccountHidden=!1,void this.menuService.setMenuSize(c.a.accountPageSize);case"booking":return this.menuService.setMenuSize(c.a.bookingPageSize),this.userBookingsHidden=!1,console.log("call update here"),void 0;case"current booking":return this.menuService.setMenuSize(c.a.accountPageSize),this.userCurrentBookingHidden=!1,console.log("call update here"),void 0}return;default:this.menuService.setMenuSize(c.a.defaultMenuSize),this.userAccountHidden=!0,this.userBookingsHidden=!0,this.userCurrentBookingHidden=!0,this.userMenuHidden=!1}},t.prototype.reRoute=function(){this.router.navigate(["/login"])},t.prototype.changeMenu=function(){this.menuService.changeMenu()},t=l([n.i(r._3)({selector:"user-menu",template:n(767),styles:[n(750)]}),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object,"function"==typeof(p="undefined"!=typeof c.a&&c.a)&&p||Object])],t);var e,u,f,p}()},576:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o,a){this.parkingStation=t,this.date=e,this.startTime=n,this.startTimeMs=r,this.code=i,this.endTime=o,this.cost=a}return t}()},577:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o,a,s,c,l){this.title=t,this.address=e,this.type=n,this.lat=r,this.lng=i,this.size=o,this.availableSpots=a,this.availability=s,this.rate=c,this.id=l}return t}()},578:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.getCurrentDate=function(){var t=new Date,e=t.getDate().toString(),n=(t.getMonth()+1).toString(),r=t.getFullYear().toString();return e.length<2&&(e="0"+e),n.length<2&&(n="0"+n),n+"/"+e+"/"+r},t.getCurrentTime=function(){var t=new Date,e=t.getSeconds().toString(),n=t.getMinutes().toString(),r=t.getHours().toString();return e.length<2&&(e="0"+e),n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),r+":"+n+":"+e},t}()},579:function(t,e,n){"use strict";function r(t){return function(e){var n=e.value,r=t.test(n);return r?{forbiddenString:{str:n}}:null}}e.a=r},580:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},581:function(t,e,n){"use strict";var r=n(595),i=(n.n(r),n(588)),o=(n.n(i),n(584)),a=(n.n(o),n(590)),s=(n.n(a),n(589)),c=(n.n(s),n(587)),l=(n.n(c),n(586)),d=(n.n(l),n(594)),u=(n.n(d),n(583)),f=(n.n(u),n(582)),p=(n.n(f),n(592)),g=(n.n(p),n(585)),m=(n.n(g),n(593)),h=(n.n(m),n(591)),b=(n.n(h),n(596)),v=(n.n(b),n(193));n.n(v)},742:function(t,e){t.exports=".modal-content{\r\n    border-radius:0;\r\n}\r\n.modal-body{\r\n    padding:2.5rem 5rem;\r\n}\r\n#title-form-group{\r\n    margin-top:1rem;\r\n}\r\n#title-field{\r\n    font-size:1.3rem;\r\n    border:none;\r\n    text-transform:uppercase;\r\n}\r\n#type-dropdown{\r\n    -moz-text-align-last:center;\r\n         text-align-last:center;\r\n}\r\n#title-field,\r\n#severity-dropdown{\r\n    padding:0;\r\n}\r\n#severity-form-group{\r\n    padding-left:0;\r\n    margin-bottom:0;\r\n}\r\n#severity-dropdown{\r\n    margin:1rem 0 1.5rem 0;\r\n    color:#CCC;\r\n}\r\n.modal-footer{\r\n    border:none;\r\n    text-align:center;\r\n    padding-bottom:4rem;\r\n}\r\ntextarea.ng-invalid.ng-dirty{\r\n    border-color:#C62828;\r\n    -webkit-transition:border-color 0.2s ease;\r\n    transition:border-color 0.2s ease;\r\n}\r\n#title-field.ng-invalid.ng-dirty{\r\n    border-left:5px solid #C62828;\r\n    padding-left:5px;\r\n    -webkit-transition:border-width 0.2s ease;\r\n    transition:border-width 0.2s ease;\r\n}"},743:function(t,e){t.exports="h1{\r\n    margin-bottom:2rem;\r\n}\r\nthead th{\r\n    border-top:none;\r\n    border-bottom:1px solid #34434B;\r\n}\r\nth,\r\ntd{\r\n    font-weight:lighter;\r\n}\r\ntd{\r\n    border-bottom:.5px solid rgba(52,6,75,.1);\r\n}\r\ni{\r\n    padding-right:.5rem;\r\n}\r\ntbody > tr{\r\n    cursor:pointer;\r\n}"},744:function(t,e){t.exports=".modal-content{\r\n    border-radius:0;\r\n}\r\n.modal-body{\r\n    padding:2.5rem 5rem;\r\n}\r\n\r\n.modal-footer{\r\n    border:none;\r\n    text-align:center;\r\n    padding-bottom:4rem;\r\n}\r\ntextarea.ng-invalid.ng-dirty{\r\n    border-color:#C62828;\r\n    -webkit-transition:border-color 0.2s ease;\r\n    transition:border-color 0.2s ease;\r\n}\r\n#title-field.ng-invalid.ng-dirty{\r\n    border-left:5px solid #C62828;\r\n    padding-left:5px;\r\n    -webkit-transition:border-width 0.2s ease;\r\n    transition:border-width 0.2s ease;\r\n}"},745:function(t,e){t.exports="h1{\r\n    margin-bottom:2rem;\r\n}\r\nthead th{\r\n    border-top:none;\r\n    border-bottom:1px solid #34434B;\r\n}\r\nth,\r\ntd{\r\n    font-weight:lighter;\r\n    text-align:center;\r\n}\r\ntd{\r\n    border-bottom:.5px solid rgba(52,6,75,.1);\r\n}\r\ni{\r\n    padding-right:.5rem;\r\n}\r\ntbody > tr{\r\n    cursor:pointer;\r\n}"},746:function(t,e){t.exports=".modal-content{\r\n    border-radius:0;\r\n}\r\n.modal-body{\r\n    padding:2.5rem 5rem;\r\n}\r\n#title-form-group{\r\n    margin-top:1rem;\r\n}\r\n#title-field{\r\n    font-size:1.3rem;\r\n    border:none;\r\n    text-transform:uppercase;\r\n}\r\n#status-dropdown{\r\n    -moz-text-align-last:center;\r\n         text-align-last:center;\r\n}\r\n#title-field,\r\n#severity-dropdown{\r\n    padding:0;\r\n}\r\n#severity-form-group{\r\n    padding-left:0;\r\n    margin-bottom:0;\r\n}\r\n#severity-dropdown{\r\n    margin:1rem 0 1.5rem 0;\r\n    color:#CCC;\r\n}\r\n.modal-footer{\r\n    border:none;\r\n    text-align:center;\r\n    padding-bottom:4rem;\r\n}\r\ntextarea.ng-invalid.ng-dirty{\r\n    border-color:#C62828;\r\n    -webkit-transition:border-color 0.2s ease;\r\n    transition:border-color 0.2s ease;\r\n}\r\n#title-field.ng-invalid.ng-dirty{\r\n    border-left:5px solid #C62828;\r\n    padding-left:5px;\r\n    -webkit-transition:border-width 0.2s ease;\r\n    transition:border-width 0.2s ease;\r\n}"},747:function(t,e){t.exports="h1{\r\n    margin-bottom:2rem;\r\n}\r\nthead th{\r\n    border-top:none;\r\n    border-bottom:1px solid #34434B;\r\n}\r\nth,\r\ntd{\r\n    font-weight:lighter;\r\n}\r\ntd{\r\n    border-bottom:.5px solid rgba(52,6,75,.1);\r\n}\r\ni{\r\n    padding-right:.5rem;\r\n}\r\ntbody > tr{\r\n    cursor:pointer;\r\n}"},748:function(t,e){t.exports="nav{\n   padding:2rem;\n   background-color:#34434B;\n   border-radius:0;\n   box-shadow:0 2px 5px 0 rgba(0,0,0,.24);\n}\n#nav-dropdown{\n    color:#FFF;\n}\n.dropdown-menu{\n    border-radius:0;\n}"},749:function(t,e){t.exports='ul{\r\n    list-style-type:none;\r\n}\r\n\r\n.accordion{\r\n    width:100%;\r\n    height:50%;\r\n    margin:0 auto;\r\n}\r\n\r\n.accordion-toggle{\r\n    border-bottom:1px solid #363636;\r\n    cursor:pointer;\r\n    margin:10px;\r\n    position:relative;\r\n}\r\n.accordion-toggle.active:after{\r\n    content:"";\r\n    position:absolute;\r\n    right:0;\r\n    top:17px;\r\n    width:0;\r\n    height:0;\r\n    border-bottom:5px solid #2b5cff;\r\n    border-left:5px solid rgba(0,0,0,0);\r\n    border-right:5px solid rgba(0,0,0,0);\r\n}\r\n.accordion-toggle:before{\r\n    content:"";\r\n    position:absolute;\r\n    right:0;\r\n    top:17px;\r\n    width:0;\r\n    height:0;\r\n    border-top:5px solid #000;\r\n    border-left:5px solid rgba(0,0,0,0);\r\n    border-right:5px solid rgba(0,0,0,0);\r\n}\r\n.accordion-toggle.active:before{\r\n    display:none;\r\n}\r\n.accordion-content{\r\n    display:none;\r\n    text-align:left;\r\n}\r\n.accordion-toggle.active{color:#2b5cff;}\r\n\r\n'},750:function(t,e){t.exports="#menu-button{\r\n    font-size:30px;\r\n    cursor:pointer;\r\n    position:absolute;\r\n}\r\n\r\n#menu-wrapper{\r\n    display:inline-block;\r\n    text-align:left;\r\n}\r\ni{\r\n    -webkit-transition:0.3s;\r\n    transition:0.3s;\r\n}\r\n\r\n.fa-bicycle{\r\n    margin-right:0.65rem;\r\n}\r\n\r\n.fa-user-circle{\r\n    margin-right:1.2rem;\r\n}\r\n\r\n.fa-book{\r\n    margin-right:1.3rem;\r\n}\r\n.overlay{\r\n    height:100%;\r\n    width:0%;\r\n    position:fixed;\r\n    z-index:1;\r\n    left:0;\r\n    top:0;\r\n    background:-webkit-linear-gradient(rgba(113, 175, 225, 0.9), rgb(46, 144, 255));\r\n    background:linear-gradient(rgba(113, 175, 225, 0.9), rgb(46, 144, 255));\r\n    overflow-x:hidden;\r\n    -webkit-transition:0.5s;\r\n    transition:0.5s;\r\n}\r\n.overlay-content{\r\n    display:none;\r\n    position:relative;\r\n    top:20%;\r\n    width:100%;\r\n    text-align:center;\r\n    margin-top:10px;\r\n    font-size:30px;\r\n}\r\n.overlay a{\r\n    padding:8px;\r\n    text-decoration:none;\r\n    font-size:20px;\r\n    display:inline;\r\n    -webkit-transition:0.3s;\r\n    transition:0.3s;\r\n    cursor:pointer;\r\n}\r\n.overlay a:hover, .overlay a:focus{\r\n\r\n}\r\n.overlay .menu-section:hover{\r\n    color:#f1f1f1;\r\n\r\n}\r\n\r\n.overlay #signOut:hover{\r\n    color:#f1f1f1;\r\n}\r\n\r\n.overlay #signOut:hover .fa{\r\n    margin-left:2.5rem;\r\n}\r\n.overlay .menubtn{\r\n    position:absolute;\r\n    top:20px;\r\n    left:45px;\r\n    font-size:20px;\r\n}\r\n\r\n.overlay .closebtn{\r\n    position:absolute;\r\n    top:20px;\r\n    right:45px;\r\n    font-size:20px;\r\n}\r\n\r\n.overlay #userName{\r\n    display:none;\r\n    position:relative;\r\n    text-align:center;\r\n    top:15%;\r\n}\r\n\r\n.menu-container{\r\n    position:absolute;\r\n    top:0;\r\n    right:0;\r\n    width:100%;\r\n    z-index:1;\r\n    -webkit-transition:0.5s;\r\n    transition:0.5s;\r\n}\r\n#signOut{\r\n    display:none;\r\n    position:absolute;\r\n    bottom:20px;\r\n    left:10px;\r\n}\r\n\r\n.my-menu-icon{\r\n    position:absolute;\r\n    left:10px;\r\n    top:10px;\r\n    cursor:pointer;\r\n}\r\n.my-menu-icon:hover{\r\n    position:absolute;\r\n    left:10px;\r\n    top:10px;\r\n    cursor:pointer;\r\n}\r\n\r\n.bar1, .bar2, .bar3{\r\n    border-radius:2px;\r\n    width:35px;\r\n    height:5px;\r\n    background-color:#333;\r\n    margin:6px 0;\r\n    -webkit-transition:0.4s;\r\n    transition:0.4s;\r\n}\r\n.change .bar1{\r\n    -webkit-transform:rotate(-45deg) translate(-9px, 6px);\r\n    transform:rotate(-45deg) translate(-9px, 6px);\r\n}\r\n.change .bar2{\r\n    opacity:0;\r\n}\r\n.change .bar3{\r\n    -webkit-transform:rotate(45deg) translate(-8px, -8px);\r\n    transform:rotate(45deg) translate(-8px, -8px);\r\n}\r\n@media screen and (max-width: 600px){\r\n\r\n    .overlay a{font-size:20px}\r\n    .overlay .closebtn{\r\n        font-size:20px;\r\n        top:15px;\r\n        right:35px;\r\n    }\r\n}\r\n::-webkit-scrollbar{\r\n    z-index:1;\r\n    width:10px;\r\n}\r\n::-webkit-scrollbar-track{\r\n    -webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);\r\n    border-radius:10px;\r\n}\r\n::-webkit-scrollbar-thumb{\r\n    border-radius:10px;\r\n    background:rgba(239, 239, 239, 0.8);\r\n    -webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.1);\r\n}\r\n::-webkit-scrollbar-thumb:window-inactive{\r\n    background:rgba(0,0,0,0.4);\r\n}"},751:function(t,e){t.exports="@import url(http://fonts.googleapis.com/css?family=Roboto);\r\n.loginmodal-container{\r\n  padding:30px;\r\n  max-width:350px;\r\n  width:100% !important;\r\n  background-color:#F7F7F7;\r\n  margin:0 auto;\r\n  border-radius:2px;\r\n  box-shadow:0px 2px 2px rgba(0, 0, 0, 0.3);\r\n  overflow:hidden;\r\n  font-family:roboto;\r\n}\r\n\r\n.loginmodal-container h1{\r\n  text-align:center;\r\n  font-size:1.8em;\r\n  font-family:roboto;\r\n}\r\n\r\n.loginmodal-container input[type=button]{\r\n  width:100%;\r\n  display:block;\r\n  margin-bottom:10px;\r\n  position:relative;\r\n}\r\n\r\n.loginmodal-container input[type=text]{\r\n  height:44px;\r\n  font-size:16px;\r\n  width:100%;\r\n  margin-bottom:10px;\r\n  -webkit-appearance:none;\r\n  background:#fff;\r\n  border:1px solid #d9d9d9;\r\n  border-top:1px solid #c0c0c0;\r\n  padding:0 8px;\r\n  box-sizing:border-box;\r\n  -moz-box-sizing:border-box;\r\n}\r\n\r\n.loginmodal-container input[type=text]:hover{\r\n  border:1px solid #b9b9b9;\r\n  border-top:1px solid #a0a0a0;\r\n  box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);\r\n}\r\n\r\n.loginmodal{\r\n  text-align:center;\r\n  font-size:14px;\r\n  font-family:'Arial', sans-serif;\r\n  font-weight:700;\r\n  height:36px;\r\n  padding:0 8px;\r\n}\r\n\r\n.loginmodal-submit{\r\n  border:0px;\r\n  color:#fff;\r\n  text-shadow:0 1px rgba(0,0,0,0.1); \r\n  background-color:#4d90fe;\r\n  padding:17px 0px;\r\n  font-family:roboto;\r\n  font-size:14px;\r\n}\r\n\r\n.loginmodal-submit:hover{\r\n  border:0px;\r\n  text-shadow:0 1px rgba(0,0,0,0.3);\r\n  background-color:#357ae8;\r\n}\r\n\r\n.loginmodal-container a{\r\n  text-decoration:none;\r\n  color:#666;\r\n  font-weight:400;\r\n  text-align:center;\r\n  display:inline-block;\r\n  opacity:0.6;\r\n  -webkit-transition:opacity ease 0.5s;\r\n  transition:opacity ease 0.5s;\r\n}\r\n\r\n.active{\r\n  font-weight:bold;\r\n}\r\n\r\n#account-form{\r\n  display:block;\r\n}\r\n\r\n#security-form{\r\n  display:none;\r\n}\r\n"},752:function(t,e){t.exports="@import url(http://fonts.googleapis.com/css?family=Roboto);\r\ni{\r\n  margin-right:0.5rem;\r\n}\r\n.loginmodal-container{\r\n  padding:30px;\r\n  max-width:350px;\r\n  width:100% !important;\r\n  background-color:#F7F7F7;\r\n  margin:0 auto;\r\n  border-radius:2px;\r\n  box-shadow:0px 2px 2px rgba(0, 0, 0, 0.3);\r\n  overflow:hidden;\r\n  font-family:roboto;\r\n}\r\n\r\n.loginmodal-container h1{\r\n  text-align:center;\r\n  font-size:1.8em;\r\n  font-family:roboto;\r\n}\r\n\r\n.loginmodal-container input[type=button]{\r\n  width:100%;\r\n  display:block;\r\n  margin-bottom:10px;\r\n  position:relative;\r\n}\r\n\r\n.loginmodal-container input[type=text], input[type=password]{\r\n  height:44px;\r\n  font-size:16px;\r\n  width:100%;\r\n  margin-bottom:10px;\r\n  -webkit-appearance:none;\r\n  background:#fff;\r\n  border:1px solid #d9d9d9;\r\n  border-top:1px solid #c0c0c0;\r\n  padding:0 8px;\r\n  box-sizing:border-box;\r\n  -moz-box-sizing:border-box;\r\n}\r\n\r\n.loginmodal-container input[type=text]:hover, input[type=password]:hover{\r\n  border:1px solid #b9b9b9;\r\n  border-top:1px solid #a0a0a0;\r\n  box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);\r\n}\r\n\r\n.loginmodal{\r\n  text-align:center;\r\n  font-size:14px;\r\n  font-family:'Arial', sans-serif;\r\n  font-weight:700;\r\n  height:36px;\r\n  padding:0 8px;\r\n}\r\n\r\n.loginmodal-submit,\r\n.registermodal-submit{\r\n  border:0px;\r\n  color:#fff;\r\n  text-shadow:0 1px rgba(0,0,0,0.1); \r\n  background-color:#4d90fe;\r\n  padding:17px 0px;\r\n  font-family:roboto;\r\n  font-size:14px;\r\n}\r\n\r\n.loginmodal-submit:hover,\r\n.registermodal-submit:hover{\r\n  border:0px;\r\n  text-shadow:0 1px rgba(0,0,0,0.3);\r\n  background-color:#357ae8;\r\n}\r\n\r\n.loginmodal-container a{\r\n  text-decoration:none;\r\n  color:#666;\r\n  font-weight:400;\r\n  text-align:center;\r\n  display:inline-block;\r\n  opacity:0.6;\r\n  -webkit-transition:opacity ease 0.5s;\r\n  transition:opacity ease 0.5s;\r\n} \r\n\r\n.login-help{\r\n  font-size:12px;\r\n}\r\n\r\n#loader{\r\n  position:absolute;\r\n  left:45%;\r\n  z-index:1;\r\n  border:16px solid #f3f3f3;\r\n  border-top:16px solid #3498db;\r\n  border-radius:50%;\r\n  width:120px;\r\n  height:120px;\r\n  -webkit-animation:spin 2s linear infinite;\r\n          animation:spin 2s linear infinite;\r\n  display:none;\r\n\r\n}\r\n\r\n@-webkit-keyframes spin{\r\n  0%{ -webkit-transform:rotate(0deg); transform:rotate(0deg); }\r\n  100%{ -webkit-transform:rotate(360deg); transform:rotate(360deg); }\r\n}\r\n\r\n@keyframes spin{\r\n  0%{ -webkit-transform:rotate(0deg); transform:rotate(0deg); }\r\n  100%{ -webkit-transform:rotate(360deg); transform:rotate(360deg); }\r\n}\r\n\r\n#login-form{\r\n  display:block;\r\n}\r\n\r\n#register-form{\r\n  display:none;\r\n}\r\n\r\n#forgotPassword-form{\r\n  display:none;\r\n}"},753:function(t,e){t.exports=""},758:function(t,e){t.exports='<div class="modal fade" [id]="modalId" data-backdrop="static">\r\n    <div class="modal-dialog modal-lg" role="document">\r\n        <div class="modal-content">\r\n            <form [formGroup]="emailForm" >\r\n                <div class="modal-body">\r\n                    <div class="form-group float-xs-left">\r\n                        <label for="type-dropdown" class="sr-only">Type</label>\r\n                        <select id="type-dropdown" class="form-control btn btn-primary" formControlName="type">\r\n                            <option *ngFor="let type of typeArr; let i of index" [value]="type">{{ type }}</option>\r\n                        </select>\r\n                    </div>\r\n                        <div class="form-group float-xs-right" >\r\n                            <label for="from-field" class="sr-only">Change Sender Address</label>\r\n                            <input type="text" class="form-control" id="from-field" placeholder="From" formControlName="from">\r\n                        </div>\r\n                    <div class="form-group">\r\n                        <label for="subject-field" class="sr-only">Change Subject</label>\r\n                        <input type="text" class="form-control" id="subject-field" placeholder="Subject" formControlName="subject">\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="body-area" class="sr-only">Body</label>\r\n                        <textarea id="body-area" rows="10" class="form-control" placeholder="Type of Body for your email" formControlName="body"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button class="btn btn-secondary btn-xl" type="button" data-dismiss="modal">Cancel</button>\r\n                    <button class="btn btn-success btn-xl" type="submit" data-dismiss="modal" (click)="submitForm()" [disabled]="emailForm.invalid">Save</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},759:function(t,e){t.exports='<div class="row">\r\n    <div class="col-xs-6">\r\n        <h1>Email Setup</h1>\r\n    </div>\r\n    <div class="col-xs-6 text-xs-right">\r\n        <button class="btn btn-success btn-lg" [attr.data-target]=" \'#\' + emailDetail.modalId " data-toggle="modal" (click)="emailDetail.freshForm()"><i class="fa fa-plus" aria-hidden="true"></i>Add Bug</button>\r\n    </div>\r\n</div>\r\n<div class="row">\r\n    <div class="col-xs-12">\r\n        <table class="table">\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>From</th>\r\n                    <th>Subject</th>\r\n                    <th>Body</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let email of emails" [attr.data-target]=" \'#\' + emailDetail.modalId " data-toggle="modal" (click)="emailDetail.configureForm(email)">\r\n                    <td>{{ email.type }}</td>\r\n                    <td>{{ email.from }}</td>\r\n                    <td>{{ email.subject}}</td>\r\n                    <td>{{ email.body }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<email-detail #emailDetail></email-detail>\r\n'},760:function(t,e){t.exports='<div class="modal fade" [id]="modalId" data-backdrop="static">\r\n    <div class="modal-dialog modal-lg" role="document">\r\n        <div class="modal-content">\r\n            <form [formGroup]="parkingForm" >\r\n                <div class="modal-body">\r\n                    <div class="form-inline" >\r\n                        <label for="title-field" >Change Title</label>\r\n                        <input type="text" class="form-control" id="title-field" placeholder="title" formControlName="title">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="address-field">Change Address</label>\r\n                        <input type="text" class="form-control" id="address-field" placeholder="address" formControlName="address">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="type-field" >Change type</label>\r\n                        <input type="text" class="form-control" id="type-field" placeholder="type" formControlName="type">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="lat-field" >Change lat</label>\r\n                        <input type="text" class="form-control" id="lat-field" placeholder="lat" formControlName="lat">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="lng-field" >Change lng</label>\r\n                        <input type="text" class="form-control" id="lng-field" placeholder="lng" formControlName="lng">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="size-field" >Change size</label>\r\n                        <input type="text" class="form-control" id="size-field" placeholder="size" formControlName="size">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="availableSpots-field">Change availableSpots</label>\r\n                        <input type="text" class="form-control" id="availableSpots-field" placeholder="availableSpots" formControlName="availableSpots">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="availability-field" >Change availability</label>\r\n                        <input type="text" class="form-control" id="availability-field" placeholder="availability" formControlName="availability">\r\n                    </div>\r\n                    <div class="form-inline" >\r\n                        <label for="rate-field">Change rate</label>\r\n                        <input type="text" class="form-control" id="rate-field" placeholder="rate" formControlName="rate">\r\n                    </div>\r\n                    <div class="form-inline" id="idDiv">\r\n                        <label for="id-field" >Change id</label>\r\n                        <input type="text" class="form-control" id="id-field" placeholder="id" formControlName="id" [readOnly]="true">\r\n                    </div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button class="btn btn-secondary btn-xl" type="button" data-dismiss="modal">Cancel</button>\r\n                    <button class="btn btn-success btn-xl" type="submit" data-dismiss="modal" (click)="submitForm()" [disabled]="parkingForm.invalid">Save</button>\r\n                    <button class="btn btn-danger btn-xl" type="submit" data-dismiss="modal" (click)="deleteParkingStation()" >Remove Station</button>\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},761:function(t,e){t.exports='<div class="row">\r\n    <div class="col-xs-6">\r\n        <h1>Parking Setup</h1>\r\n    </div>\r\n    <div class="col-xs-6 text-xs-right">\r\n        <button class="btn btn-success btn-lg" [attr.data-target]=" \'#\' + parkingDetail.modalId " data-toggle="modal" (click)="parkingDetail.freshForm()"><i class="fa fa-plus" aria-hidden="true"></i>Add Parking Station</button>\r\n    </div>\r\n</div>\r\n<div class="row">\r\n    <div class="col-xs-12">\r\n        <table class="table">\r\n            <thead>\r\n            <tr>\r\n                <th>Title</th>\r\n                <th>Address</th>\r\n                <th>Type</th>\r\n                <th>Lat</th>\r\n                <th>Lng</th>\r\n                <th>Size</th>\r\n                <th>AvailableSpots</th>\r\n                <th>Availability</th>\r\n                <th>Rate</th>\r\n                <th>Id</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody *ngIf="parkingStations">\r\n            <tr *ngFor="let parking of parkingStations" [attr.data-target]=" \'#\' + parkingDetail.modalId " data-toggle="modal" (click)="parkingDetail.configureForm(parking)">\r\n                <td>{{ parking.title }}</td>\r\n                <td>{{ parking.address}}</td>\r\n                <td>{{ parking.type}}</td>\r\n                <td>{{ parking.lat}}</td>\r\n                <td>{{ parking.lng}}</td>\r\n                <td>{{ parking.size}}</td>\r\n                <td>{{ parking.availableSpots}}</td>\r\n                <td>{{ parking.availability}}</td>\r\n                <td>{{ parking.rate}}</td>\r\n                <td>{{ parking.id}}</td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<parking-detail #parkingDetail></parking-detail>\r\n'},762:function(t,e){t.exports='<!--<div class="modal fade" [id]="modalId" data-backdrop="static">-->\r\n    <!--<div class="modal-dialog modal-lg" role="document">-->\r\n        <!--<div class="modal-content">-->\r\n            <!--<form [formGroup]="bugForm" >-->\r\n                <!--<div class="modal-body">-->\r\n                    <!--<fieldset class="form-inline">-->\r\n                        <!--<div class="form-group" id="title-form-group">-->\r\n                            <!--<label for="title-field" class="sr-only">Bug Title</label>-->\r\n                            <!--<input type="text" class="form-control" id="title-field" placeholder="Bug Title" formControlName="title">-->\r\n                        <!--</div>-->\r\n                        <!--<div class="form-group float-xs-right">-->\r\n                            <!--<label for="status-dropdown" class="sr-only">Status</label>-->\r\n                            <!--<select id="status-dropdown" class="form-control btn btn-primary" formControlName="status">-->\r\n                                <!--<option *ngFor="let status of statusArr" [value]="status">{{ statuses[status] }}</option>-->\r\n                            <!--</select>-->\r\n                        <!--</div>-->\r\n                    <!--</fieldset>-->\r\n                    <!--<div class="form-group float-xs-left" id="severity-form-group">-->\r\n                        <!--<label for="severity-dropdown" class="sr-only">Severity Dropdown</label>-->\r\n                        <!--<select id="severity-dropdown" class="form-control" formControlName="severity">-->\r\n                            <!--<option *ngFor="let severity of severityArr" [value]="severity">{{ severities[severity] }}</option>-->\r\n                        <!--</select>-->\r\n                    <!--</div>-->\r\n                    <!--<div class="form-group">-->\r\n                        <!--<label for="desc-area" class="sr-only">Description</label>-->\r\n                        <!--<textarea id="desc-area" rows="10" class="form-control" placeholder="Type a description of your bug" formControlName="description"></textarea>-->\r\n                    <!--</div>-->\r\n                <!--</div>-->\r\n                <!--<div class="modal-footer">-->\r\n                    <!--<button class="btn btn-secondary btn-xl" type="button" data-dismiss="modal">Cancel</button>-->\r\n                    <!--<button class="btn btn-success btn-xl" type="submit" data-dismiss="modal" (click)="submitForm()" [disabled]="bugForm.invalid">Save</button>-->\r\n                <!--</div>-->\r\n            <!--</form>-->\r\n        <!--</div>-->\r\n    <!--</div>-->\r\n<!--</div>-->\r\n\r\n<h1>User Detail</h1>\r\n<form [formGroup]="userForm">\r\n</form>'},763:function(t,e){t.exports='<!--<div class="row">-->\r\n    <!--<div class="col-xs-6">-->\r\n        <!--<h1>Logged Bugs</h1>-->\r\n    <!--</div>-->\r\n    <!--<div class="col-xs-6 text-xs-right">-->\r\n        <!--<button class="btn btn-success btn-lg" [attr.data-target]=" \'#\' + bugDetail.modalId " data-toggle="modal" (click)="bugDetail.freshForm()"><i class="fa fa-plus" aria-hidden="true"></i>Add Bug</button>-->\r\n    <!--</div>-->\r\n<!--</div>-->\r\n<!--<div class="row">-->\r\n    <!--<div class="col-xs-12">-->\r\n        <!--<table class="table">-->\r\n            <!--<thead>-->\r\n                <!--<tr>-->\r\n                    <!--<th>Title</th>-->\r\n                    <!--<th>Status</th>-->\r\n                    <!--<th>Severity</th>-->\r\n                    <!--<th>Description</th>-->\r\n                    <!--<th>Logged By</th>-->\r\n                    <!--<th>Date</th>-->\r\n                <!--</tr>-->\r\n            <!--</thead>-->\r\n            <!--<tbody>-->\r\n                <!--<tr *ngFor="let bug of bugs" [attr.data-target]=" \'#\' + bugDetail.modalId " data-toggle="modal" (click)="bugDetail.configureForm(bug)">-->\r\n                    <!--<td>{{ bug.title }}</td>-->\r\n                    <!--<td>{{ bug.status | status}}</td>-->\r\n                    <!--<td>{{ bug.severity | severity }}</td>-->\r\n                    <!--<td>{{ bug.description }}</td>-->\r\n                    <!--<td>{{ bug.createdBy }}</td>-->\r\n                    <!--<td>{{ bug.createdDate | date }}</td>-->\r\n                <!--</tr>-->\r\n            <!--</tbody>-->\r\n        <!--</table>-->\r\n    <!--</div>-->\r\n<!--</div>-->\r\n<!--<bug-detail #bugDetail></bug-detail>-->\r\n\r\nUser list component'},764:function(t,e){t.exports='<nav class="navbar-dark bg-inverse">\n    <div class="container">\n        <!--<a [routerLink]="" class="navbar-brand"><img src="../../../favicon.ico" alt=""></a>-->\n        <a routerLink="parking" class="navbar-brand">Parking</a>\n        <a routerLink="user" class="navbar-brand">User</a>\n        <a routerLink="email" class="navbar-brand">Email</a>\n        <ul class="nav navbar-nav float-xs-right">\n            <li class="nav-item dropdown">\n                <a href="#" class="nav-link dropdown-toggle" id="nav-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">manioannides@gmail.com</a>\n                <div class="dropdown-menu" aria-labelledby="nav-dropdown">\n                    <a href="#" class="dropdown-item">Sign Out</a>\n                </div>\n            </li>\n        </ul>\n    </div>\n</nav>\n'},765:function(t,e){t.exports='<div class="wrapper" *ngIf="currentBooking">\r\n    <div class="info-booking">\r\n\r\n        <b class="info-booking">Title</b>: {{ currentBooking.parkingStation.title }}<br>\r\n        <b class="info-booking" >Address</b>: {{ currentBooking.parkingStation.address }}<br>\r\n        <b class="info-booking" >Rate</b>: {{ currentBooking.parkingStation.rate }}<br>\r\n        <b class="info-booking">Date</b>: {{ currentBooking.date }}<br>\r\n        <b class="info-booking" >Start Time</b>: {{ currentBooking.startTime }}<br>\r\n    </div>\r\n</div>'},766:function(t,e){t.exports='\r\n<div class="accordion">\r\n    <ul id="bookingList">\r\n        <li *ngFor="let booking of bookings; let i = index;">\r\n            <h4 (click)="open(i)" class="accordion-toggle">{{booking.title}}: {{booking.date}}</h4>\r\n            <div class="accordion-content">\r\n                <b>Title</b>: {{booking.title}} <br>\r\n                <b>Address</b>: {{booking.address}} <br>\r\n                <b>Rate</b>: {{booking.rate}}<br>\r\n                <b>Date</b>: {{booking.date}}<br>\r\n                <b>Start Time</b>: {{booking.startTime}}<br>\r\n                <b>End Time</b>: {{booking.endTime}}<br>\r\n                <b>Total Cost</b>: {{booking.cost}}\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n';
},767:function(t,e){t.exports='<div id="wrapper" class="menu-container">\r\n    <div id="my-menu-icon" class="my-menu-icon" (click)="changeMenu()">\r\n        <div class="bar1"></div>\r\n        <div class="bar2"></div>\r\n        <div class="bar3"></div>\r\n    </div>\r\n</div>\r\n\r\n<div id="myNav" class="overlay">\r\n    <div id="userName" *ngIf="currentUser">\r\n        <h1>Welcome {{currentUser.name}}</h1>\r\n    </div>\r\n\r\n    <a [hidden]="!userMenuHidden" class="menubtn" (click)="replaceMenuContent(\'\',\'menu\')">Menu</a>\r\n    <a [hidden]="!(this.menuService.menuSize === 100)" class="closebtn" (click)="this.menuService.closeNav()">X</a>\r\n\r\n    <div id="overlay-content" class="overlay-content">\r\n\r\n        <div id="menu-wrapper">\r\n            <div id="menu" [hidden]="userMenuHidden">\r\n                <div class="menu-section" [hidden]="!currentBooking">\r\n                <i class="fa fa-bicycle" aria-hidden="false"></i> <a  (click)="replaceMenuContent(\'menu\',\'current booking\')">My Current Booking</a>\r\n               </div>\r\n                <div class="menu-section">\r\n                <i class="fa fa-user-circle" aria-hidden="false"></i> <a (click)="replaceMenuContent(\'menu\',\'account\')">My Account</a>\r\n                </div>\r\n                <div class="menu-section">\r\n                <i class="fa fa-book" aria-hidden="false"></i> <a (click)="replaceMenuContent(\'menu\',\'booking\')">My Bookings</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            <div id="myAccount" [hidden]="userAccountHidden"><user-account></user-account></div>\r\n            <div id="myBookings" [hidden]="userBookingsHidden"><my-bookings></my-bookings></div>\r\n            <div id="myCurrentBookings" [hidden]="userCurrentBookingHidden"><current-booking></current-booking></div>\r\n\r\n\r\n    </div>\r\n    <div id="signOut" [hidden]="userMenuHidden">\r\n        <a (click)="signOut()">Sign Out</a> <i class="fa fa-sign-out" aria-hidden="false"></i>\r\n    </div>\r\n</div>\r\n\r\n\r\n'},768:function(t,e){t.exports='<div id="form-wrapper" class="modal-dialog">\r\n    <div class="loginmodal-container">\r\n        <div class="panel-heading">\r\n            <div class="row">\r\n                <div class="col-xs-6">\r\n                    <a href="#" class="active" id="account-link">Account</a>\r\n                </div>\r\n                <div class="col-xs-6">\r\n                    <a href="#" id="security-link">Security</a>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="row">\r\n                <div class="col-lg-12">\r\n                    <form id="account-form">\r\n                        <input type="text" name="name" placeholder="Name" [readOnly]="true" value="{{currentUser.name}}"\r\n                               id="argName">\r\n                        <input type="text" name="email" placeholder="Email" [readOnly]="true"\r\n                               value="{{currentUser.email}}" id="argEmail">\r\n                        <input type="text" name="address" placeholder="Address" [readOnly]="true"\r\n                               value="{{currentUser.address}}" id="argAddress">\r\n                        <input type="button" value="Edit" class="login loginmodal-submit" id="editButton"\r\n                               (click)="editInfo()">\r\n                        <input type="button" name="update" class="login loginmodal-submit" hidden="true" value="Update"\r\n                               id="updateButton" (click)="updateUser()">\r\n                    </form>\r\n                    <div id="security-form">\r\n                        <form id="password-form">\r\n                            <h4>Change Password</h4>\r\n                            <input type="text" name="email" placeholder="Current Password" id="argCurPass">\r\n                            <input type="text" name="email" placeholder="New Password" id="argNewPass">\r\n                            <input type="button" name="changePassword" class="login loginmodal-submit" value="Change Password"\r\n                                   id="passUpdateButton" (click)="updateUser()">\r\n                        </form>\r\n                       <user-billing></user-billing>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},769:function(t,e){t.exports='<a href="#" data-toggle="modal" data-target="#login-modal">Login</a>\r\n<a [routerLink]="[\'/map\']">Map</a>\r\n<a [routerLink]="[\'/my-bookings\']">Bookings</a>\r\n<a [routerLink]="[\'/billing\']">Billing</a>\r\n\r\n<div id="loader"></div>\r\n<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">\r\n    <div id="form-wrapper" class="modal-dialog">\r\n        <div class="loginmodal-container">\r\n            <div class="panel-heading">\r\n                <div class="row">\r\n                    <div class="col-xs-6">\r\n                        <a href="#" class="active" id="login-form-link">Login</a>\r\n                    </div>\r\n                    <div class="col-xs-6">\r\n                        <a href="#" id="register-form-link">Register</a>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n            <div class="panel-body">\r\n                <div class="row">\r\n                    <div class="col-lg-12">\r\n                        <form id="login-form" (keyup.enter)="login()" >\r\n                            <input type="text" name="email" placeholder="Email" id="LoginEmail" >\r\n                            <input type="password" name="pass" placeholder="Password" id="LoginPass" >\r\n                            <input type="button" name="login" class="login loginmodal-submit" value="Login"\r\n                                   (click)="login()" >\r\n\r\n                        </form>\r\n                        <form id="register-form" (keyup.enter)="register()">\r\n                            <input type="text" name="name" placeholder="Name" id="RegisterName">\r\n                            <input type="text" name="email" placeholder="Email" id="RegisterEmail">\r\n                            <input type="password" name="pass" placeholder="Password" id="RegisterPass">\r\n                            <input type="password" name="pass" placeholder="Confirm Password" id="ConfirmPass">\r\n                            <input type="button" name="register" class="register registermodal-submit" data-dismiss="modal"\r\n                                   value="Register" (click)="register()">\r\n                        </form>\r\n                        <form id="forgotPassword-form" (keyup.enter)="forgotPassword()">\r\n                            <p>Please enter your email to recover your password.</p>\r\n                            <input type="text" name="email" placeholder="Email" id="forgotPasswordEmail">\r\n                            <input type="button" name="recoverPassword" class="login loginmodal-submit" value="Recover Password" data-dismiss="modal"\r\n                                   (click)="forgotPassword()">\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="login-help" id="forgotPassword-form-link">\r\n                <i class="fa fa-unlock-alt" aria-hidden="false"></i><a href="#">Forgot Password</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},770:function(t,e){t.exports='<form id="payment-form">\r\n    <div class="form-row">\r\n        <label for="card-element">\r\n            Credit or debit card\r\n        </label>\r\n        <div id="card-element">\r\n            <!-- a Stripe Element will be inserted here. -->\r\n        </div>\r\n\r\n        <!-- Used to display Element errors -->\r\n        <div id="card-errors"></div>\r\n    </div>\r\n    <input type="button" class="btn btn-primary" value="Update Card">\r\n</form>'},93:function(t,e,n){"use strict";var r=n(1),i=n(48),o=n(52),a=n(370);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.userService=t,this.fire=e,this.databaseRef=this.fire.database.ref("/emails"),this.currentUserRef=this.fire.database.ref("/users");this.fire.auth.currentUser}return t.prototype.getUser=function(){var t=this;this.userService.getCurrentUser().subscribe(function(e){e&&(t.userEmail=e.email)})},t.prototype.createEmail=function(t,e,n){var r=this;if(this.userEmail=this.fire.auth.currentUser.email,this.userEmail||e){e&&(this.userEmail=e);var i=new a.a(null,null,null,null),o=this.databaseRef.child("email information").child("details").child(t);return new Promise(function(t){o.once("value",function(t){i=t.val(),console.log("raw data",t),console.log("obs next set",i),r.sendEmail(i,e,n)})})}console.error("User email is undefined")},t.prototype.sendEmail=function(t,e,n){e&&(this.userEmail=e),n&&(t.body=t.body+": "+n.parkingStation.address+". This is your booking code, please use it to store and retrieve your bike: "+n.code,console.log(t.body));var r=this.databaseRef.child("email to send");r.push({from:t.from,to:this.userEmail,subject:t.subject,body:t.body}).catch(function(t){return console.error("Unable to send Email",t)});console.log("pushed to newEmailRef")},t.BOOKING_CONFIRMATION="booking confirmation",t.BOOKING_CANCELLATION="booking cancellation",t.BOOKING_COMPLETION="booking completion",t.REGISTRATION_CONFIRMATION="registration confirmation",t=s([n.i(r.c)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(l="undefined"!=typeof o.a&&o.a)&&l||Object])],t);var e,l}()}},[1039]);